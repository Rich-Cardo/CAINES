{% include 'header.html' %}

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="alert alert-info">
      {{ messages[0] }}
    </div>
  {% endif %}
{% endwith %}

          <div class="formulario">

            <a href="{{url_for('agregar_municipio') }}" id="boton-ingresar" class="btn btn-success"  style="margin: 0px 10px;">Nuevo...</a>

            <input type="text" id="searchInput" title="Type in a name" placeholder="Buscar municipios..." required class="form-control ml-auto">
            <button onclick="searchTable()"  class="btn btn-info"  style="margin: 0px 10px;">Buscar</button>

          </div>

          {% include 'buscar.html' %}

        <div  id="myTable" >
            <table id="tabla_municipios" class="table-wrapper-scroll-y my-custom-scrollbar table table-light tablas
            border border-secondary rounded" style="margin:10px;"
            cellspacing="0" >
                <thead class="thead-light">
                    <tr>

                        <th>ID</th>
                        <th>Nombre</th> 

                        <th class="w-100">Acciones</th>

                    </tr>
                </thead>
                <tbody>

                  {% for codigo_municipio, nombre_municipio in municipios %}

                    
                    <tr>

                        <td>{{ codigo_municipio }}</td>
                        <td>{{ nombre_municipio }}</td>

                        <td>
                            <div class="btn-group col">
                                <!-- <a class="btn btn-success" href="#" data-toggle="modal" data-target="#myModal{{municipios[0]}}">Ver</a> -->
                                <a class="btn btn-warning" href="/editar_municipio/{{ codigo_municipio }}">Editar</a>
                                <a class="btn btn-danger" href="/eliminar_municipio/{{ codigo_municipio }}" onclick="return confirm('¿Desea borrar el registro?')">Eliminar</a>

                   
                            </div>           
                        </td>

                    </tr>
                    
                    {% endfor %}

                
                </tbody>



            </table>
</div>   
            


            <!-- Codigo para mostrar el modal con los datos del municipios -->

            {% for municipio in municipios %}


            <div class="modal fade" id="myModal{{municipios[0]}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">Datos del Niño</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  </div>
                  <div class="modal-body">

                    <p>Codigo: {{municipio[0]}}</p>
                    <p>Nombre: {{municipio[1]}}</p>

                  </div>
                  <div class="modal-footer">
                    <a type="button" class="btn btn-info" href="/horario/{{municipios[0]}}">Horario</a>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                  </div>
                </div>
              </div>
            </div>
            
            {% endfor %}
        




  



    
        







    
    </div>








{% include 'footer.html' %}